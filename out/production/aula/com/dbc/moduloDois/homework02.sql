CREATE TABLE VEM_SER.PAIS(
	ID_PAIS INT PRIMARY KEY NOT NULL,
	NOME VARCHAR2(200)

);

CREATE TABLE VEM_SER.ESTADO(
	ID_ESTADO INT PRIMARY KEY NOT NULL,
	ID_PAIS INT NOT NULL,
	NOME VARCHAR2(50) UNIQUE NOT NULL,
	CONSTRAINT FK_ID_PAIS FOREIGN KEY (ID_PAIS) REFERENCES VEM_SER.PAIS(ID_PAIS)
);

CREATE TABLE VEM_SER.CIDADE(
	ID_CIDADE INT PRIMARY KEY NOT NULL,
	ID_ESTADO INT NOT NULL,
	NOME VARCHAR2(50) UNIQUE NOT NULL,
	CONSTRAINT FK_ID_ESTADO FOREIGN KEY (ID_ESTADO) REFERENCES VEM_SER.ESTADO(ID_ESTADO)
)

CREATE TABLE VEM_SER.BAIRRO(
	ID_BAIRO INT PRIMARY KEY NOT NULL,
	ID_CIDADE INT NOT NULL,
	ID_ESTADO INT NOT NULL,
	NOME VARCHAR2(50) UNIQUE NOT NULL,
	CONSTRAINT FK_ID_CIDADE FOREIGN KEY (ID_CIDADE) REFERENCES VEM_SER.CIDADE(ID_CIDADE),
	CONSTRAINT FK_ID_ESTADO_BAIRRO FOREIGN KEY (ID_ESTADO) REFERENCES VEM_SER.ESTADO(ID_ESTADO)
)

CREATE TABLE VEM_SER.ENDERECO(
	ID_ENDERECO INT PRIMARY KEY NOT NULL,
	ID_BAIRRO INT NOT NULL,
	ID_CIDADE INT NOT NULL,
	LONGRADOURO VARCHAR2(225) NOT NULL,
	NUMERO NUMBER NOT NULL,
	COMPLEMENTO VARCHAR(100),
	CEP CHAR(9),	
	CONSTRAINT FK_ID_ENDERECO_BAIRRO FOREIGN KEY (ID_BAIRRO) REFERENCES VEM_SER.BAIRRO(ID_BAIRO),
	CONSTRAINT FK_ID_ENDERECO_CIDADE FOREIGN KEY (ID_CIDADE) REFERENCES VEM_SER.CIDADE(ID_CIDADE)	
	
)


CREATE SEQUENCE SEQ_PAIS
	START WITH 1
	INCREMENT BY 1
	NOCACHE
	NOCYCLE;
CREATE SEQUENCE SEQ_ESTADO
	START WITH 1
	INCREMENT BY 1
	NOCACHE
	NOCYCLE;
CREATE SEQUENCE SEQ_CIDADE
	START WITH 1
	INCREMENT BY 1
	NOCACHE
	NOCYCLE;
CREATE SEQUENCE SEQ_BAIRRO
	START WITH 1
	INCREMENT BY 1
	NOCACHE
	NOCYCLE;
CREATE SEQUENCE SEQ_ENDERECO
	START WITH 1
	INCREMENT BY 1
	NOCACHE
	NOCYCLE;

-- INSERT --
INSERT INTO VEM_SER.PAIS VALUES(SEQ_PAIS.NEXTVAL, 'ALEMANHA')
INSERT INTO VEM_SER.PAIS VALUES(SEQ_PAIS.NEXTVAL, 'ARGENTINA')
INSERT INTO VEM_SER.ESTADO VALUES(SEQ_ESTADO.NEXTVAL, 1, 'RIO GRANDE DO SUL')
INSERT INTO VEM_SER.ESTADO VALUES(SEQ_ESTADO.NEXTVAL, 1, 'RIO DE JANEIRO')
INSERT INTO VEM_SER.ESTADO VALUES(SEQ_ESTADO.NEXTVAL, 1, 'S√ÉO PAULO')
INSERT INTO VEM_SER.ESTADO VALUES(SEQ_ESTADO.NEXTVAL, 2, 'BUENOS AIRES')
INSERT INTO VEM_SER.ESTADO VALUES(SEQ_ESTADO.NEXTVAL, 2, 'CHACO')
INSERT INTO VEM_SER.CIDADE VALUES(SEQ_CIDADE.NEXTVAL, 1, 'PORTO ALEGRE')
INSERT INTO VEM_SER.CIDADE VALUES(SEQ_CIDADE.NEXTVAL, 2, 'RIO DE JANEIRO')

INSERT INTO VEM_SER.BAIRRO VALUES(SEQ_BAIRRO.NEXTVAL, 1, 1, 'MORRO SANTANA')

INSERT INTO VEM_SER.ENDERECO VALUES(SEQ_ENDERECO.NEXTVAL, 21, 2, 'TESTE', 1181, NULL, '90110-001')


-- SELECT --
SELECT * FROM VEM_SER.PAIS ORDER BY NOME;
SELECT LONGRADOURO, CEP FROM VEM_SER.ENDERECO 
	WHERE UPPER(LONGRADOURO) LIKE 'A%';

SELECT CEP FROM VEM_SER.ENDERECO WHERE CEP LIKE '%0';
SELECT LONGRADOURO, NUMERO FROM VEM_SER.ENDERECO WHERE NUMERO BETWEEN 1 AND 200;

SELECT LONGRADOURO, CEP FROM VEM_SER.ENDERECO 
	WHERE UPPER(LONGRADOURO) LIKE 'RUA%' ORDER BY CEP DESC;

SELECT COUNT(ID_ENDERECO) FROM VEM_SER.ENDERECO

SELECT COUNT(CEP) FROM VEM_SER.ENDERECO GROUP BY ID_CIDADE 






